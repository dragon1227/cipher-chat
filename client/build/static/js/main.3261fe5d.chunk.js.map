{"version":3,"sources":["components/profile/profile.jpg","components/footer.jsx","services/httpService.js","services/userService.js","components/login.jsx","components/register.jsx","components/chatbox/chatbubble.jsx","components/chatbox/chatForm.jsx","components/chatbox/chatbox.jsx","components/chatlist/userItem.jsx","components/chatlist/userLists.jsx","components/profile/displayPic.jsx","components/profile/displayName.jsx","components/profile/displayBio.jsx","components/profile/profile.jsx","components/navBar/navBtn.jsx","components/navBar/navbar.jsx","components/chat/chat.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","Footer","react_default","a","createElement","className","httpService","get","axios","post","put","delete","endpoint","getAllUsers","_ref","Object","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","http","abrupt","sent","stop","apply","this","arguments","postUser","_ref2","_callee2","data","_context2","_x","updateUser","_ref3","_callee3","_id","_context3","concat","_x2","_x3","checkUsername","_ref4","_callee4","username","_ref5","res","_context4","Boolean","_x4","authUser","_ref6","_callee5","auth","_context5","_x5","getUserProfile","_ref7","_callee6","token","config","_context6","localStorage","getItem","headers","x-auth-token","SHA256","CryptoJS","Login","history","_useState","useState","_useState2","slicedToArray","setUsername","_useState3","_useState4","password","setPassword","handleSubmit","e","passPhrase","userToken","preventDefault","alert","toString","setItem","push","t0","console","log","clear","onSubmit","type","placeholder","value","onChange","target","href","Register","privateKey","publicKey","cryptico","generateRSAKey","publicKeyString","ChatBubble","userKeys","isSecret","name","message","timestamp","senderName","decrypt","pvk","plaintext","parentBubContStyle","bubContStyle","displayName","id","dateTimestamp","Date","month","getMonth","date","getDate","year","getFullYear","hours","getHours","minutes","getMinutes","displayTimestamp","ChatForm","sendMessage","handleMessageChange","Fragment","onClick","socket","openSocket","ChatBox","user","chatMatePbk","match","setMessage","chats","setChats","channel","params","filter","pbkHash","pbk","useEffect","connect","emit","disconnect","on","updateChats","chat","toConsumableArray","updateScroll","sendSecret","userMsg","encryptMsg","chatMateMsg","msgObj","k","encrypt","cipher","sendPlain","chatbox","document","getElementById","scrollTop","scrollHeight","length","map","m","chatbox_chatbubble","assign","key","indexOf","chatForm","MD5","UserItem","currUser","setChatMatePbk","sorted","sort","channelId","join","UserLists","users","setUsers","search","setSearch","getUsers","u","userItem","DisplayPic","alt","src","displayPic","width","DisplayName","DisplayBio","bio","onSave","onEdit","setOnEdit","_bio","setBio","flipEdit","maxLength","Profile","onUpdateBio","profile_displayName","displayBio","window","location","NavBtn","link","fa","label","navigate","NavBar","navs","nav","navBtn","Chat","setUser","setUserKeys","_useState5","_useState6","error","getUser","getKeys","pvk_phrase","handleUpdateUserBio","_user","objectSpread","components_profile_profile","navbar","react_router","path","render","props","chatbox_chatbox","userLists","from","to","App","component","footer","hostname","ReactDOM","react_router_dom","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3261fe5d.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,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\"","import React from \"react\";\n\nconst Footer = () => {\n  return (\n    <footer className=\"container\">\n      <small> CipherChat | About</small>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import axios from \"axios\";\n\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete\n};\n","import http from \"./httpService\";\n\nconst endpoint = \"/api/users\";\n\nexport const getAllUsers = async () => {\n  return await http.get(endpoint);\n}\n\nexport const postUser = async data => {\n  return await http.post(endpoint, data);\n};\n\nexport const updateUser = async (_id, data) => {\n  return await http.put(`${endpoint}/${_id}`, data);\n}\n\nexport const checkUsername = async username => {\n  const { data: res } = await http.get(`${endpoint}/${username}`);\n\n  return Boolean(res);\n};\n\nexport const authUser = async auth => {\n  return http.post(`${endpoint}/auth/`, auth);\n};\n\nexport const getUserProfile = async () => {\n  const token = localStorage.getItem(\"userToken\");\n  const config = {\n    headers: {\n      \"x-auth-token\": token\n    }\n  };\n\n  return http.get(`${endpoint}/auth`, config);\n};\n","import React, { useState } from \"react\";\nimport { authUser, checkUsername } from \"../services/userService\";\nimport CryptoJS from \"crypto-js\";\nconst { SHA256 } = CryptoJS;\n\nconst Login = ({ history }) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    const isExisting = await checkUsername(username);\n    if (!isExisting) return alert(\"User with the username not found.\");\n\n    const auth = SHA256(username + password).toString();\n    const passPhrase = SHA256(auth + password).toString();\n    localStorage.setItem(\"pvk_phrase\", passPhrase);\n\n    try {\n      const { data: userToken } = await authUser({ auth });\n      localStorage.setItem(\"userToken\", userToken);\n\n      alert(\"Account authenticated!\");\n      history.push(\"/chat\");\n    } catch (err) {\n      console.log(err);\n      localStorage.clear();\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <form onSubmit={handleSubmit}>\n        <input\n          className=\"mb\"\n          type=\"text\"\n          placeholder=\"Pseudoname\"\n          value={username}\n          onChange={({ target }) => setUsername(target.value)}\n        />\n        <input\n          className=\"mb\"\n          type=\"password\"\n          placeholder=\"Secret Password\"\n          value={password}\n          onChange={({ target }) => setPassword(target.value)}\n        />\n        <input className=\"btn-dark\" type=\"submit\" value=\"Login\" />\n\n        <a href=\"/register\">Don't have an account yet?</a>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport { postUser, checkUsername } from \"../services/userService\";\nimport CryptoJS from \"crypto-js\";\nimport cryptico from \"cryptico\";\nconst { SHA256 } = CryptoJS;\n\nconst Register = ({ history }) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    const isExisting = await checkUsername(username);\n    if (isExisting) return alert(\"User with the username already exists\");\n\n    const auth = SHA256(username + password).toString();\n    const passPhrase = SHA256(auth + password).toString();\n    const privateKey = cryptico.generateRSAKey(passPhrase, 1024);\n    const publicKey = cryptico.publicKeyString(privateKey);\n\n    try {\n      await postUser({ username, auth, publicKey });\n      alert(\"Account has been created.\")\n      history.push(\"/login\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <form onSubmit={handleSubmit}>\n        <input\n          className=\"mb\"\n          type=\"text\"\n          placeholder=\"Pseudoname\"\n          value={username}\n          onChange={({ target }) => setUsername(target.value)}\n        />\n        <input\n          className=\"mb\"\n          type=\"password\"\n          placeholder=\"Secret Password\"\n          value={password}\n          onChange={({ target }) => setPassword(target.value)}\n        />\n\n        <input className=\"btn-dark\" type=\"submit\" value=\"Register\" />\n\n        <a href=\"/login\">Already have an account?</a>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n","import React from \"react\";\nimport cryptico from \"cryptico\";\nimport \"./chatbubble.css\";\n\nconst ChatBubble = ({\n  userKeys,\n  isSecret,\n  username,\n  name,\n  message,\n  timestamp\n}) => {\n  const getSenderName = () => {\n    if (isSecret) name = cryptico.decrypt(name, userKeys.pvk).plaintext;\n\n    return name;\n  };\n\n  const senderName = getSenderName();\n\n  const parentBubContStyle =\n    senderName === username ? \"float-right max-width\" : \"\";\n  const bubContStyle =\n    senderName === username ? \"float-right text-align-right\" : \"\";\n  const displayName = senderName === username ? \"You\" : name;\n\n  const displayTimestamp = () => {\n    if (isSecret)\n      timestamp = cryptico.decrypt(timestamp, userKeys.pvk).plaintext;\n\n    const dateTimestamp = new Date(timestamp);\n\n    const month = dateTimestamp.getMonth();\n    const date = dateTimestamp.getDate();\n    const year = dateTimestamp.getFullYear();\n    const hours = dateTimestamp.getHours();\n    const minutes = dateTimestamp.getMinutes();\n\n    return `${month}/${date}/${year} - ${hours}:${minutes}`;\n  };\n\n  const displayMessage = () => {\n    if (isSecret) return cryptico.decrypt(message, userKeys.pvk).plaintext;\n\n    return message;\n  };\n\n  return (\n    <div className={parentBubContStyle}>\n      <div id=\"bubble-container\" className={bubContStyle}>\n        <b>{displayName}</b> <br />\n        <div id=\"message-bubble\">{displayMessage()}</div> <br />\n        <small id=\"timestamp\">{displayTimestamp()}</small>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatBubble;\n","import React from \"react\";\n\nconst ChatForm = ({message, sendMessage, handleMessageChange}) => {\n  return (\n    <React.Fragment>\n      <div className=\"message-form\">\n        <form onSubmit={sendMessage}>\n          <input\n            value={message}\n            onChange={handleMessageChange}\n            placeholder=\"Type a message...\"\n            type=\"text\"\n          />\n        </form>\n      </div>\n\n      <div className=\"message-submit\">\n        <button onClick={sendMessage}>\n          <i className=\"fas fa-paper-plane\" />\n        </button>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default ChatForm;\n","import React, { useState, useEffect } from \"react\";\nimport \"./chatbox.css\";\nimport ChatBubble from \"./chatbubble\";\nimport cryptico from \"cryptico\";\nimport { SHA256 } from \"crypto-js\";\nimport openSocket from \"socket.io-client\";\nimport ChatForm from \"./chatForm\";\nconst socket = openSocket();\n\nconst ChatBox = ({ user, userKeys, chatMatePbk, match }) => {\n  const [message, setMessage] = useState(\"\");\n  const [chats, setChats] = useState([]);\n\n  const channel = match.params.channel;\n  const isSecret = channel !== \"global\";\n  const filter = { channel };\n  if (isSecret) {\n    filter.pbkHash = SHA256(userKeys.pbk).toString();\n    console.log(filter);\n  }\n\n  useEffect(() => {\n    socket.connect();\n\n    socket.emit(\"get-chats\", filter);\n\n    return () => socket.disconnect();\n  }, []);\n\n  socket.on(\"return-chats\", chats => {\n    updateChats(chats);\n  });\n\n  socket.on(\"new-message\", chat => {\n    updateChats([...chats, chat]);\n  });\n\n  const updateChats = chats => {\n    setChats(chats);\n    updateScroll();\n  };\n\n  const handleMessageChange = ({ target }) => {\n    setMessage(target.value);\n  };\n\n  const sendMessage = e => {\n    e.preventDefault();\n\n    if (isSecret) sendSecret();\n    else sendPlain();\n\n    setMessage(\"\");\n  };\n\n  const sendSecret = () => {\n    const name = user.username;\n    const timestamp = new Date().toString();\n\n    const userMsg = encryptMsg({\n      name,\n      message,\n      timestamp\n    }, userKeys.pbk)\n\n    socket.emit(\"send-secret-msg-self\", userMsg);\n\n    const chatMateMsg = encryptMsg({\n      name,\n      message,\n      timestamp\n    }, chatMatePbk)\n\n    socket.emit(\"send-secret-msg\", chatMateMsg);\n  };\n\n  const encryptMsg = (msgObj, pbk) => {\n    for(let k in msgObj){\n      msgObj[k] = cryptico.encrypt(msgObj[k], pbk).cipher;\n    }\n\n    msgObj['pbkHash'] = SHA256(pbk).toString();\n    msgObj['channel'] = channel;\n\n    return msgObj;\n  }\n\n  const sendPlain = () => {\n    const userMsg = {\n      name: user.username,\n      channel,\n      message,\n      timestamp: new Date()\n    };\n\n    socket.emit(\"send-message\", userMsg);\n  };\n\n  const updateScroll = () => {\n    const chatbox = document.getElementById(\"chatbox\");\n    chatbox.scrollTop = chatbox.scrollHeight;\n  };\n\n  const populateChatBox = () => {\n    return chats.length === 0 ? (\n      <div className=\"chat-notif\">No messages yet. Say hello!</div>\n    ) : (\n      chats.map(m => (\n        <ChatBubble\n          key={chats.indexOf(m)}\n          username={user.username}\n          userKeys={userKeys}\n          isSecret={isSecret}\n          {...m}\n        />\n      ))\n    );\n  };\n\n  return (\n    <div className=\"grid-container chatbox-container\">\n      <div id=\"chatbox\">{populateChatBox()}</div>\n\n      <ChatForm\n        message={message}\n        sendMessage={sendMessage}\n        handleMessageChange={handleMessageChange}\n      />\n    </div>\n  );\n};\n\nexport default ChatBox;\n","import React from \"react\";\nimport CryptoJS from \"crypto-js\";\nconst MD5 = CryptoJS.MD5;\n\nconst UserItem = ({ user, currUser, history, setChatMatePbk }) => {\n  const handleChannelOpen = () => {\n    const { publicKey: userPbk } = user;\n    const { publicKey: cUserPnk } = currUser;\n    const sorted = [userPbk, cUserPnk].sort();\n    const channelId = MD5(sorted.join());\n\n    setChatMatePbk(user.publicKey);\n\n    history.push(\"/chat/ch/\" + channelId);\n  };\n\n  return (\n    <div className=\"container-item mb\">\n      <b>{user.username}</b>\n      <button onClick={handleChannelOpen}>\n        {\" \"}\n        <i className=\"fas fa-comment\" />\n      </button>\n    </div>\n  );\n};\n\nexport default UserItem;\n","import React, { useState, useEffect } from \"react\";\nimport UserItem from \"./userItem\";\nimport \"./userList.css\";\nimport { getAllUsers } from \"../../services/userService\";\n\nconst UserLists = ({ user, history, setChatMatePbk }) => {\n  const [users, setUsers] = useState([]);\n  const [search, setSearch] = useState(\"\");\n\n  useEffect(() => {\n    const getUsers = async () => {\n      const { data: users } = await getAllUsers();\n\n      setUsers(users);\n    };\n\n    getUsers();\n  }, []);\n\n  return (\n    <React.Fragment>\n      <div className=\"list mb\">\n        {users.map(u => (\n          <UserItem\n            key={users.indexOf(u)}\n            user={u}\n            currUser={user}\n            history={history}\n            setChatMatePbk={setChatMatePbk}\n          />\n        ))}\n      </div>\n\n      <input\n        value={search}\n        onChange={({ target }) => setSearch(target.value)}\n        placeholder=\"Search for someone to chat...\"\n      />\n    </React.Fragment>\n  );\n};\n\nexport default UserLists;\n","import React from \"react\";\nimport displayPic from \"./profile.jpg\";\n\nconst DisplayPic = () => {\n  return (\n    <div id=\"display-pic\">\n      <img alt=\"anon\" src={displayPic} width=\"42\" />\n    </div>\n  );\n};\n\nexport default DisplayPic;\n","import React from \"react\";\n\nconst DisplayName = ({ username }) => {\n  return (\n    <div id=\"display-name\">\n      <b>{username || \"Loading...\"}</b>\n    </div>\n  );\n};\n\nexport default DisplayName;\n","import React, { useState, useEffect } from \"react\";\n\nconst DisplayBio = ({ bio, onSave }) => {\n  const [onEdit, setOnEdit] = useState(false);\n  const [_bio, setBio] = useState(\"\");\n\n  const flipEdit = () => setOnEdit(!onEdit);\n  const handleSave = () => {\n    if (bio === _bio) return flipEdit();\n    onSave(_bio);\n    flipEdit();\n  };\n\n  useEffect(() => {\n    setBio(bio);\n  }, [bio]);\n\n  return (\n    <div id=\"display-bio\">\n      {onEdit ? (\n        <React.Fragment>\n          <input\n            maxLength=\"50\"\n            value={_bio}\n            onChange={({ target }) => setBio(target.value)}\n          />\n          <i onClick={handleSave} className=\"fas fa-save\" />\n        </React.Fragment>\n      ) : (\n        <React.Fragment>\n          <small>{bio || \"bio\"}</small>\n          <i onClick={flipEdit} className=\"fas fa-edit\" />\n        </React.Fragment>\n      )}\n    </div>\n  );\n};\n\nexport default DisplayBio;\n","import React from \"react\";\nimport \"./profile.css\";\nimport DisplayPic from \"./displayPic\";\nimport DisplayName from \"./displayName\";\nimport DisplayBio from \"./displayBio\";\n\nconst Profile = ({ user, onUpdateBio }) => {\n  const handleLogout = () => {\n    localStorage.clear();\n\n    window.location = \"/\"\n  };\n\n  return (\n    <div className=\"container grid-container\">\n      <DisplayPic />\n\n      <DisplayName username={user.username} />\n\n      <DisplayBio onSave={onUpdateBio} bio={user.bio} />\n\n      <div onClick={handleLogout} id=\"logout\">\n        <button>\n          <i className=\"fas fa-sign-out-alt\" />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\n\nconst NavBtn = ({link, fa, label, navigate}) => {\n  return (\n    <div>\n      <button\n        onClick={() => {\n            navigate(link);\n        }}\n      >\n        <i className={fa} /> {label}\n      </button>\n    </div>\n  );\n};\n\nexport default NavBtn;\n","import React, { useState } from \"react\";\nimport \"./navBar.css\";\nimport NavBtn from \"./navBtn\";\n\nconst NavBar = ({ history }) => {\n  const [navs, setNavs] = useState([\n    { fa: \"fas fa-search\", label: \"\", link: \"/chat/search\" },\n    { fa: \"fas fa-globe\", label: \"Global\", link: \"/chat/ch/global\" },\n    { fa: \"fas fa-envelope\", label: \"Nicki...\", link: \"/chat/search\" }\n  ]);\n\n  const navigate = link => {\n    history.push(link);\n  };\n\n  return (\n    <div className=\"container-item nav mb\">\n      <div className=\"nav-grid\">\n        {navs.map(nav => (\n          <NavBtn key={navs.indexOf(nav)} {...nav} navigate={navigate}/>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default NavBar;\n","import React, { useState, useEffect } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport cryptico from \"cryptico\";\nimport ChatBox from \"../chatbox/chatbox\";\nimport UserLists from \"../chatlist/userLists\";\nimport Profile from \"../profile/profile\";\nimport NavBar from \"../navBar/navbar\";\nimport { getUserProfile, updateUser } from \"../../services/userService\";\nimport \"./chat.css\";\n\nimport openSocket from \"socket.io-client\";\nconst socket = openSocket();\n\nconst Chat = ({ history }) => {\n  const [user, setUser] = useState({});\n  const [userKeys, setUserKeys] = useState({});\n  const [chatMatePbk, setChatMatePbk] = useState(\"\");\n\n  useEffect(() => {\n    if (socket) console.log(\"Socket Connected!\");\n    else console.error(\"Sockeet connection failed.\");\n\n    const getUser = async () => {\n      const { data: user } = await getUserProfile();\n\n      setUser(user);\n    };\n\n    getUser();\n\n    setUserKeys(getKeys());\n  }, []);\n\n  const getKeys = () => {\n    const pvk_phrase = localStorage.getItem(\"pvk_phrase\");\n\n    const pvk = cryptico.generateRSAKey(pvk_phrase, 1024);\n\n    const pbk = cryptico.publicKeyString(pvk);\n\n    return {pvk, pbk};\n  }\n\n  const handleUpdateUserBio = async bio => {\n    const _user = { ...user };\n    _user.bio = bio;\n\n    try {\n      await updateUser(user._id, _user);\n      setUser(_user);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <Profile\n        onUpdateBio={handleUpdateUserBio}\n        history={history}\n        user={user}\n      />\n      <div className=\"container chat\">\n        <NavBar history={history} />\n\n        <Switch>\n          <Route\n            path=\"/chat/ch/:channel\"\n            render={props => (\n              <ChatBox {...props} user={user} userKeys={userKeys} chatMatePbk={chatMatePbk} />\n            )}\n          />\n          <Route\n            path=\"/chat/list\"\n            render={props => (\n              <UserLists\n                {...props}\n                user={user}\n                setChatMatePbk={setChatMatePbk}\n              />\n            )}\n          />\n          <Redirect from=\"/chat\" to=\"/chat/list\" />\n        </Switch>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default Chat;\n","import React from \"react\";\nimport \"./App.css\";\nimport Footer from \"./components/footer\";\nimport Login from \"./components/login\";\nimport Register from \"./components/register\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Chat from \"./components/chat/chat\";\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Switch>\n        <Route path=\"/chat\" component={Chat} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/register\" component={Register} />\n        <Redirect from=\"/\" to=\"/login\" />\n      </Switch>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"@fortawesome/fontawesome-free/css/all.css\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}